<html>
    <head>
        <title>Chart</title>
        <link rel="shortcut icon" href="../media/logo5mix.png" type="image/x-icon">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script>
            function generate(){
                var avatarId = getUser();
                var svgCode = multiavatar(avatarId);
                return svgCode
            }
            function crt(){
                let data = generate();
                document.getElementById("data").innerHTML = data;
            }
            function openTab(evt, tabname) { // this function is used to move arround the tabs in the main page
                var i, tabcontent, tablinks;
                tabcontent = document.getElementsByClassName("main");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }
                tablinks = document.getElementsByClassName("tbs");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }
                document.getElementById(tabname).style.display = "block";
                evt.currentTarget.className += " active";
                divs = document.getElementsByClassName("main")
                for (let i = 0; i < divs.length-1; i++) {
                    if (divs[i].style.display=="block") {
                        document.getElementById("comp"+String(i+1)).style.display="block" ;
                    }        
                    else{
                        document.getElementById("comp"+String(i+1)).style.display="none" ;
                    }
                }
                chan(parseInt(tabname)+1);
            }
        </script>
        <style>
            @font-face{
                font-family: codec-extrabold;
                src: url('../media/Codec-Cold-Heavy-trial.ttf');
            }
            @font-face{
                font-family: codec;
                src: url('../media/Codec-Cold-Regular-trial.ttf');
            }
            *{
                margin: 0;
                padding: 0;
            }
            body{
                background-image: url('../media/statsBG.png');
                background-size: auto 100%;
                background-repeat: no-repeat;
            }
            #container{
                float: left;
                height: 60%;
                width: 60%;
                font-size: 20;
                padding: 2%;
                border-radius: 1rem; 
                padding-top: 6%;
            }
            #context{
                padding: 2%;
                border-radius: 1rem;
                background-color: rgba(255, 255, 255, 0.2);
                box-shadow:-2px 2px 2px;
            }
            #load{
                position: absolute;
                top: 5%;
                left: 4%;
                transition: linear 1s;
            }
            #page-header{
                width: 100%;
                height: 15%;
                background-color: #a800ff;
            }
            .header-links{
                display: flex;
                flex-wrap: wrap;
                gap: 100px;
                margin-left: 5%;
                padding-top: 2.7%;
            }
            .tbs{
                color: #571082;
                font-family: codec-extrabold;
                font-size: 25; 
                transition: 0.3s;     
                background: none;
                border: 0;
                cursor: pointer;
            }
            .tbs:hover{
                color: #ffffff;
                transition: 0.3s;
            }
            #user-details{
                background-color:#ffe100;
                filter: drop-shadow(0px 0px 5px rgba(0,0,0,.5));
                border: 3px solid black;
                border-radius: 80px;
                float: right;
                margin-right: 3%;
                margin-top: -3%;
                width: 30%;
                height: 630%;
            }
            #user-avatar{
                width: auto;
                height: 23%;
                padding-top: 10%;
            }
            #user-name{
                font-family: codec-extrabold;
                color: #141414;
                font-size: 30;
                padding-top: 5%;
            }
            #user-score{
                font-family: codec-extrabold;
                color: #141414;
                font-size: 20;
                padding-top: 8%;
            }
            #floppie{
                width: auto;
                height: 8%;
                display: inline-block;
                padding-top: 3%;
            }
            #score-number{
                display: inline-block;
                font-family: codec-extrabold;
                color: #141414;
            }
            .user-cards{
                background-color: #141414;
                border-radius: 50px;
                width: 250px;
                height: 50px;
                text-align: center;
                vertical-align: middle;
                line-height: 50px;  
            }
            #card-text-1, #card-text-2, #card-text-3, #card-text-4{
                font-family: codec-extrabold;
                color: #ffffff;
                display: inline-block;
                font-size: 17;
            }
            #card-text-5, #card-text-6{
                font-family: codec-extrabold;
                color: #ffffff;
                display: inline-block;
                font-size: 15;
            }
            #back-bbt:link, #back-bbt:visited {
                background-color: #ffe100;
                color: #141414;
                padding: 4px 15px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 16;
                border-radius: 10px;
                transition: 0.3s;
                font-family: codec-extrabold;
            }
            #back-bbt:hover{
                background-color: #141414;
                transition: 0.3s;
                color: white;
            }
        </style>
    </head>
    <body onload="crt()">
        <div id="page-header">
            <div class="header-links">
                <button class="tbs" onclick="openTab(event, '0')">Settings</button>
                <button class="tbs" onclick="openTab(event, '1')">Explore</button>
                <button class="tbs" onclick="openTab(event, '2')">Graveyard</button>
                <button class="tbs" onclick="openTab(event, '3')">Statistics</button>
            </div>
            <div id="user-details">
                <center>
                    <img src="../media/logoredq.png" id="user-avatar"><!--user avatar-->
                    <p id="user-name">username</p>
                    <p id="user-score">Your Score:</p><!--user score-->
                    <img src="../media/floppieTheMeanie.png" id="floppie">
                    <p id="score-number">!NUM</p>
                    <br><br>
                    <div class="user-cards">
                        <p id="card-text-1">Date Joined: </p><!--joining date-->
                        <p id="card-text-2">!NUM</p>
                    </div>
                    <br>
                    <div class="user-cards">
                        <p id="card-text-3">Saved Notes: </p><!--saved notes-->
                        <p id="card-text-4">!NUM</p>
                    </div>
                    <br>
                    <div class="user-cards">
                        <p id="card-text-5">Current Active Notes: </p><!--current active notes-->
                        <p id="card-text-6">!NUM</p>
                    </div>
                    <br>
                    <a href="../php/main.php" id="back-bbt">Back</a>
                </center>
            </div>
        </div>
        <div class="main" id="0" style="display: none;">
            <p>you entered Settings</p>
        </div>
        <div class="main" id="1" style="display: none;">
            <p>you entered explore</p>
        </div>
        <div class="main" id="2" style="display: none;">
            <p>you entered Graveyard</p>
        </div>
        <div class="main" id="3">
            <div id="container" >
                <canvas id="context" style="display:block"></canvas>
            </div>
        </div>
    </body>
    
    <script src="../Script/chart.js"></script>
</html>